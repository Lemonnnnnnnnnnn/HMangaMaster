---
alwaysApply: true
description: 重构代码时必须遵循的核心原则
---

# 重构原则

在进行代码重构时，必须严格遵守以下原则：

## 1. 不添加未使用的功能
- 仅重构现有代码，不要引入新的功能特性
- 保持功能范围不变，只优化实现方式
- 避免"顺便"添加新功能

## 2. 保持现有功能
- 重构过程中必须保持所有现有功能的完整性
- 不改变用户可见的行为和接口
- 确保重构后的代码功能与重构前完全一致

## 3. 不添加兼容性代码
- 避免添加向后兼容的代码
- 一次性重构所有相关调用点
- 不保留旧的实现方式或接口

## 4. 验证编译通过
- 重构完成后必须验证代码能够成功编译
- 检查所有依赖和引用是否正确
- 确保没有引入编译错误或类型错误

## 5. 善用文件夹结构实现代码分离归类
- 根据功能职责或业务模块合理划分文件夹结构
- 将相关代码文件组织到对应的文件夹中，提高代码可维护性
- 避免将大量文件堆积在同一目录下，保持清晰的项目结构
- 在重构过程中逐步将散乱的文件移动到合适的目录结构中

## 适用场景
- 代码重构和优化
- 架构调整
- 性能改进
- 代码清理和整理